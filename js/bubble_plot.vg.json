{
	"width": 900,
	"height": 600,
	"$schema": "https://vega.github.io/schema/vega-lite/v5.json",
	"description": "A bubbleplot showing horsepower on x, miles per gallons on y, and binned acceleration on size.",
	"data": {
		"url": "https://raw.githubusercontent.com/Tzyinggggggg/3179_Assignment2/main/Data/Salary-Satisfaction-WLB.csv"
	},
	"params": [
		{
			"name": "Salary",
			"value": 0,
			"bind": {
				"input": "range",
				"min": 0,
				"max": 37365,
				"step": 500,
				"name": "Salary Range: "
			}
		},
		{
			"name": "Continent_selection",
			"bind": {
				"input": "select",
				"options": [
					null,
					"North America",
					"South America",
					"Europe",
					"Asia",
					"Oceania"
				],
				"labels": [
					"Show All",
					"North America",
					"South America",
					"Europe",
					"Asia",
					"Oceania"
				],
				"name": "Continent Selection: "
			}
		}
	],
	"transform": [
		{
			"filter": "datum.Continent != ''"
		},
		{
			"filter": "datum.Work_Life_Balance > 0"
		},
		{
			"filter": "datum.Life_Satisfaction > 0"
		},
		{
			"filter": "Continent_selection == null || datum.Continent == Continent_selection"
		},
		{
			"filter": "datum.Average_Salary > Salary"
		}
	],
	"encoding": {
		"x": {
			"field": "Work_Life_Balance",
			"type": "quantitative",
			"scale": {
				"type": "linear",
				"domain": [0, 10]
			},
			"title": "Work Life Balance Index",
			"axis": {
				"tickCount": 6,
				"labelFontSize": 15,
				"titleFontSize": 20
			}
		},
		"y": {
			"field": "Life_Satisfaction",
			"type": "quantitative",
			"scale": {
				"type": "linear",
				"domain": [0, 10]
			},
			"title": "Life Satisfaction Index",
			"axis": {
				"tickCount": 6,
				"labelFontSize": 15,
				"titleFontSize": 20
			}
		}
	},
	"layer": [
		{
			"selection": {
				"continent_highlight": {
					"type": "multi",
					"fields": ["Continent"],
					"bind": "legend"
				}
			},
			"mark": { "type": "circle", "stroke": "black", "strokeWidth": 0.5 },
			"encoding": {
				"size": {
					"field": "Average_Salary",
					"type": "quantitative",
					"scale": {
						"type": "threshold",
						"domain": [3000, 9000, 15000, 20000, 25000],
						"range": [200, 400, 800, 1200, 1600, 2500]
					},
					"format": ",",
					"title": "Average Salary",
					"legend": {
						"format": ",.2s",
						"labelFontSize": 15,
						"titleFontSize": 20
					}
				},
				"color": {
					"field": "Continent",
					"type": "nominal",
					"title": "Continent",
					"legend": {
						"title": "Continent",
						"labelFontSize": 15,
						"titleFontSize": 20
					}
				},
				"opacity": {
					"condition": {
						"selection": "continent_highlight",
						"value": 1
					},
					"value": 0.2
				},
				"tooltip": [
					{
						"field": "Country",
						"type": "nominal",
						"title": "Country"
					},
					{
						"field": "Continent",
						"type": "nominal",
						"title": "Continent"
					},
					{
						"field": "Average_Salary",
						"type": "quantitative",
						"format": ",",
						"title": "Average_Salary"
					},
					{
						"field": "Life_Satisfaction",
						"type": "quantitative",
						"format": ",",
						"title": "Life Satisfaction"
					},
					{
						"field": "Work_Life_Balance",
						"type": "quantitative",
						"format": ",",
						"title": "Work Life Balance"
					}
				]
			}
		},
		{
			"mark": {
				"type": "text",
				"align": "center",
				"baseline": "middle",
				"dy": 10,
				"fontSize": 15,
				"fontStyle": "bolder"
			},
			"encoding": {
				"text": {
					"field": "Country",
					"type": "nominal"
				},
				"color": {
					"value": "black"
				},
				"opacity": {
					"condition": {
						"test": "datum.Country == 'Denmark' || datum.Country == 'Australia' || datum.Country == 'New Zealand' || datum.Country == 'Malaysia'||datum.Country == 'Luxembourg'||datum.Country == 'Mexico'||datum.Country == 'United Kingdom'",
						"value": 1
					},
					"value": 0
				}
			}
		}
	],
	"config": {}
}
